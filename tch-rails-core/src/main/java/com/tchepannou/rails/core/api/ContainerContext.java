/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package com.tchepannou.rails.core.api;

import java.io.IOException;
import java.util.List;
import java.util.Map;
import javax.mail.MessagingException;
import javax.persistence.EntityManagerFactory;
import javax.servlet.ServletContext;

/**
 * Container related information
 * 
 * @author herve
 */
public interface ContainerContext
{
    /**
     * Returns the context of the servlet
     */
    public ServletContext getServletContext ();

    /**
     * Returns the instance of {@link EntityManagerFactory}
     */
    public EntityManagerFactory getEntityManagerFactory ();

    /**
     * Returns the list of {@link ActionInterceptor}
     */
    public List<ActionInterceptor> getActionInterceptors ();

    /**
     * Returns the list of {@link JobInterceptor}
     */
    public List<JobInterceptor> getJobInterceptors ();

    /**
     * Return the list of {@link MessageInterceptor}
     */
    public List<MessageInterceptor> getMessageInterceptors();

    /**
     * Returns the list of {@link MailInterceptor}
     */
    public List<MailInterceptor> getMailInterceptors ();

    /**
     * Finds a {@link Service} by its interface, or returns <code>null</code> if not found
     *
     * @param type  interface of the service requester
     */
    public Service findService (Class<? extends Service> type);

    /**
     * Return the base package of the controllers.
     * 
     */
    public String getBasePackage ();

    /**
     * Return the login URL
     */
    public String getLoginURL ();

    public void deliver (String template, Map data, MailController mailer)
        throws IOException, MessagingException;
}
